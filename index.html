<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Цитогенетика</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
    }
    .tabs {
      display: flex;
      justify-content: center;
      background: #333;
    }
    .tab-button {
      flex: 1;
      padding: 15px;
      cursor: pointer;
      background: #444;
      color: white;
      border: none;
      outline: none;
      transition: 0.3s;
    }
    .tab-button:hover {
      background: #666;
    }
    .tab-button.active {
      background: #008CBA;
    }
    .tab-content {
      display: none;
      padding: 20px;
      color: white;
      min-height: 100vh;
      background-size: cover;
      background-position: center;
    }
    #theory { background-image: url("theory_image.jpg..png"); }
    #tasks { background-image: url("tasks_image.jpg..png"); }
    #test { background-image: url("test_image.jpg"); }
    #homework { background: linear-gradient(135deg, #ff9a9e, #fad0c4); }
    .question { margin-bottom: 15px; }
    .timer { font-size: 18px; font-weight: bold; margin: 10px 0; }
    .disabled { pointer-events: none; opacity: 0.6; }
  </style>
</head>
<body>
  <div class="tabs">
    <button class="tab-button" onclick="openTab('theory')">Теория</button>
    <button class="tab-button" onclick="openTab('tasks')">Задания</button>
    <button class="tab-button" onclick="openTab('test')">Тест</button>
    <button class="tab-button" onclick="openTab('homework')">Домашнее задание</button>
  </div>

  <div id="theory" class="tab-content">
    <h1>Теория</h1>
    <p>Генетические закономерности наследования связаны с поведением хромосом...</p>
    <!-- вставь сюда весь свой текст по теории -->
  </div>

  <div id="tasks" class="tab-content">
    <h1>Задания</h1>
    <p>Задание 1. Прочитайте утверждения...</p>
    <!-- сюда вставь все свои задания -->
  </div>

  <div id="test" class="tab-content">
    <h1>Тест</h1>
    <p><b>Правила:</b> Время на выполнение теста — 3 минуты. После истечения времени или перезагрузки сайта пройти тест повторно нельзя.</p>
    <div id="testBlock">
      <input type="text" id="studentName" placeholder="Введите имя">
      <button onclick="startTest()">Начать тест</button>
      <div class="timer" id="timer"></div>
      <div id="questions" style="display:none;">
        <div class="question">
          <p>1. Что является носителем наследственной информации в клетке?</p>
          <label><input type="radio" name="q1"> Белки</label>
          <label><input type="radio" name="q1"> ДНК</label>
          <label><input type="radio" name="q1"> Рибосомы</label>
          <label><input type="radio" name="q1"> Углеводы</label>
        </div>
        <!-- вставь сюда остальные вопросы -->
      </div>
    </div>
    <div id="blockedMessage" style="display:none; font-size:20px; color:red;">
      ⛔ Вы уже проходили тест и не можете пройти его снова.
    </div>
  </div>

  <div id="homework" class="tab-content">
    <h1>Домашнее задание</h1>
    <p>1. Составь схему моногибридного скрещивания...</p>
    <!-- сюда вставь своё домашнее задание -->
  </div>

  <script>
    function openTab(tabName) {
      let tabs = document.getElementsByClassName("tab-content");
      for (let i = 0; i < tabs.length; i++) {
        tabs[i].style.display = "none";
      }
      let buttons = document.getElementsByClassName("tab-button");
      for (let i = 0; i < buttons.length; i++) {
        buttons[i].classList.remove("active");
      }
      document.getElementById(tabName).style.display = "block";
      event.currentTarget.classList.add("active");
    }

    // Автооткрытие теории при старте
    window.onload = function() {
      document.querySelector(".tab-button").click();
      checkTestStatus();
    };

    let timerInterval;
    let testDuration = 180; // 3 минуты

    function startTest() {
      let name = document.getElementById("studentName").value;
      if (!name) {
        alert("Введите имя перед началом теста!");
        return;
      }
      localStorage.setItem("testPassed", "true");
      document.getElementById("questions").style.display = "block";
      startTimer(testDuration);
    }

    function startTimer(duration) {
      let timer = duration;
      let timerDisplay = document.getElementById("timer");
      timerDisplay.textContent = "Оставшееся время: " + timer + " секунд";
      timerInterval = setInterval(function () {
        timer--;
        timerDisplay.textContent = "Оставшееся время: " + timer + " секунд";
        if (timer <= 0) {
          clearInterval(timerInterval);
          document.getElementById("questions").classList.add("disabled");
          timerDisplay.textContent = "⏰ Время вышло!";
        }
      }, 1000);
    }

    function checkTestStatus() {
      if (localStorage.getItem("testPassed")) {
        document.getElementById("testBlock").style.display = "none";
        document.getElementById("blockedMessage").style.display = "block";
      }
    }
  </script>
</body>
</html>
